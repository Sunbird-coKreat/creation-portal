
<div *ngIf="!showLoader && !showError && currentStage === 'collectionComponent'">
  <!-- <div class="state-medium-container sb-bg-color-white">
    <div class="ui container d-flex flex-ai-center">
      <div class="state-medium-container__dropdown">
        <div class="sb-field mb-0 selected-board"
        appTelemetryInteract
           [telemetryInteractEdata]="programTelemetryService.getTelemetryInteractEdata('collection-filter', 'click', 'collection', {'filters': { 'board': [board]}})"
           [telemetryInteractCdata]="telemetryInteractCdata"
           [telemetryInteractPdata]="telemetryInteractPdata">
          {{board}}
           <sui-select class="selection state-selection"  placeholder="{{board}}" labelField="name" #multiSelect>
            <sui-select-option *ngFor="let option of multiSelect1" [value]="option" aria-disabled="#multiSelect">
            </sui-select-option>
          </sui-select> 
        </div>
      </div>
      <div class="state-medium-container__separator"></div>
      <div class="state-medium-container__medium">
        <div class="sb-medium">
           <div class="sb-medium__sb-pills-content  sb-medium__pills-container"
           appTelemetryInteract
           [telemetryInteractEdata]="programTelemetryService.getTelemetryInteractEdata('collection-filter', 'click', 'collection', {'filters': { 'medium': [medium]}})"
           [telemetryInteractCdata]="telemetryInteractCdata"
           [telemetryInteractPdata]="telemetryInteractPdata"
            *ngFor="let medium of mediums;  let index = index" (click)=" isMediumClickable ? filterCollectionList(medium,'medium') : false">
            <div class="pill active">{{medium}}</div>
          </div>
        </div>
      </div>
    </div>
  </div> -->
  <!-- <div class="sb-class sb-bg-color-gray-0">
    <div class="ui container">
      <nav class="sb-class__pills-container">
       <ngx-slick class="carousel" [config]="_slideConfig">
            <div ngxSlickItem class="sb-class__pill" appTelemetryInteract
            [telemetryInteractEdata]="programTelemetryService.getTelemetryInteractEdata('collection-filter', 'click', 'collection', {'filters': { 'class': [class]}})"
            [telemetryInteractCdata]="telemetryInteractCdata"
            [telemetryInteractPdata]="telemetryInteractPdata"
            *ngFor="let class of classes;let i = index" [class.active]="selectedIndex === i" (click)="filterCollectionList(class); setAndClearFilterIndex(i)">
              {{ class }}
            </div>
          </ngx-slick>
      </nav>
    </div>
    
  </div> -->

	<div class="sb-bg-color-primary-0 practical-header py-16">
		<div class="d-flex flex-ai-center flex-jc-space-between practical-header__content ui container p-0">

			<div class="practical-header__title flex-basis-1">
				<button class="sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn" type="button">
					<i class="icon-svg icon-svg--xxs icon-back mr-4">
						<svg _ngcontent-nak-c11="" class="icon icon-svg--primary">
							<use xlink:href="assets/images/sprite.svg#arrow-long-left"></use>
						</svg></i> Back to Explore Programs</button>

				<h4 class="m-0 p-0">{{programContext.name}}
          <ng-template #popupTemplate>
            <div class="content">
              <div class="textbook-details ml-8">
                <div class="header"><strong>Subject</strong></div>
                <div class="content">
                  <label class="d-block fsmall font-weight-normal mb-0">{{sharedContext.subject.join(', ')}}</label>
                </div>
                <hr />
                <div class="header"><strong>Grades / Classes</strong></div>
                <div class="content">
                  <label class="d-block fsmall font-weight-normal mb-0">{{sharedContext.gradeLevel.join(', ')}}</label>
                </div>
              </div>
            </div>
          </ng-template>
                <i class="info circle link icon" suiPopup [popupTemplate]="popupTemplate">
                </i>
				</h4>
				<p class="fs-0-785 font-weight-normal">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus
					convallis massa felis, quis pretium urna efficitur in.</p>
			</div>

			<div class="program-timeline px-16">
				<div class="program-timeline-item">
					<div class="status completed">
						<div class="status__label">Nomination End Date</div>
						<div class="status__date">23 Mar ‘20 <em>20 days to go</em></div>
					</div>
				</div>
				<div class="program-timeline-item">
					<div class="status active">
						<div class="status__label">Nomination Shortlisting Date</div>
						<div class="status__date">23 Mar ‘20 <em></em></div>
					</div>
				</div>
				<div class="program-timeline-item">
					<div class="status">
						<div class="status__label">Contribution End Date</div>
						<div class="status__date">23 Mar ‘20 <em></em></div>
					</div>
				</div>
				<div class="program-timeline-item">
					<div class="status">
						<div class="status__label">Program End Date</div>
						<div class="status__date">23 Mar ‘20 <em></em></div>
					</div>
				</div>
			</div>

			<div class="practical-sb-buttons">
      <div  *ngIf="nominateButton === 'hide'"> <button class="sb-btn sb-btn-disabled sb-btn-normal" >Nominate</button></div>
        <div *ngIf="nominateButton === 'show'">
          <button class="sb-btn sb-btn-normal sb-btn-primary disabled {{nominateButton === 'show' ? 'active' : 'disabled'}}" (click)="showContentTypeModal= true;" >Nominate</button>
        </div>
			</div>
		</div>
	</div>

  <div class="sb-bg-color-white py-24 dynamicHeight">
    <div class="ui container m-0 p-0">
      <div class="sb-pageSection-header">
        <h4 class="sb-pageSection-title six">{{programContext.name}} <span class="sb-pagSection-count sb-label sb-label-x sb-label-warning ml-8 px-8">10</span></h4>
          </div>
      <div class="sb-table-responsive">
        <table class="sb-table sb-table-striped sb-table-hover sb-table-sortable sb-table-fixed">
          <thead class="sb-table-header sb-table-thead-gray">
            <tr>
              <th class="sb-sort-icon">Textbook</th>
              <th class="sb-sort-icon">Grade</th>
              <th class="sb-sort-icon">Medium</th>
              <th class="sb-sort-icon">Chapters</th>
              <th class="sb-sort-icon">Subject</th>
              <th class="text-center">Select</th>
            </tr>
          </thead>
          <tbody class="sb-table-body">
            <tr *ngFor="let data of collectionList" >
              <td> 
                <div class="sb__ellipsis sb__ellipsis--three sb-color-primary font-weight-bold">
                  {{data.name}}
                </div>
              </td>
              <td>
                <div  suiPopup popupHeader="Grades" popupText="{{data.gradeLevel}}">{{data.gradeLevel}}</div>
              </td>
              <td>
                <div class="sb__ellipsis">{{data.medium}}</div>
              </td>
              <td>
                -
              </td>
              <td>
                <div class="sb__ellipsis">{{data.subject}}</div>
              </td>
              <td class="text-center">
                  <input type="checkbox" name="{{data.identifier}}" (click)="nominationChecked(data.identifier)" >
              </td>
            </tr>
          </tbody>
        </table> 
      </div>
      <div  *ngIf="!objectKey(collectionList).length">
        <app-no-result [data]="{ messageText: 'resourceService.messages.stmsg.m0006'}"></app-no-result>
      </div>
    </div>
  </div>



    <div class="ui container pb-48 hidden hide">
      <div class="sb-pageSection-header row my-20">
        <h4 class="sb-pageSection-title six">{{programContext.name}}
          <ng-template #popupTemplate>
            <div class="content">
              <div class="textbook-details ml-8">
                <div class="header"><strong>Subject</strong></div>
                <div class="content">
                  <label class="d-block fsmall font-weight-normal mb-0">{{sharedContext.subject.join(', ')}}</label>
                </div>
                <hr />
                <div class="header"><strong>Grades / Classes</strong></div>
                <div class="content">
                  <label class="d-block fsmall font-weight-normal mb-0">{{sharedContext.gradeLevel.join(', ')}}</label>
                </div>
                <hr />
                <div class="header">
                  <strong>Nomination End Date</strong>
                </div>
                <div class="content">
                  <label class="d-block fsmall font-weight-normal mb-0">
                    {{programContext.nomination_enddate | date: medium }}
                  </label>
                </div>
                <hr />
                <div class="header">
                  <strong>Nomination Shortlisting Date</strong>
                </div>
                <div class="content">
                  <label class="d-block fsmall font-weight-normal mb-0">
                    {{programContext.shortlisting_enddate | date: medium }}
                  </label>
                </div>
                <hr />
                <div class="header">
                  <strong>Contribution End Date</strong>
                </div>
                <div class="content">
                  <label class="d-block fsmall font-weight-normal mb-0">
                    {{programContext.content_submission_enddate | date: medium }}
                  </label>
                </div>
                <hr />
                <div class="header"><strong>Program End Date</strong></div>
                <div class="content">
                  <label class="d-block fsmall font-weight-normal mb-0">
                    {{programContext.enddate | date: medium }}
                  </label>
                </div>
              </div>
            </div>
          </ng-template>
                <i class="info circle link icon" suiPopup [popupTemplate]="popupTemplate">
                </i>
      </h4>
      <div class="pull-right">
        <div *ngIf="nominateButton === 'show'">
          <button class="sb-btn sb-btn-normal sb-btn-primary disabled {{nominateButton === 'show' ? 'active' : 'disabled'}}" (click)="showContentTypeModal= true;" >Nominate</button>
        </div>
        <div class="two wide column column " *ngIf="nominateButton === 'hide'">
          <button class="sb-btn sb-btn-disabled sb-btn-normal" >Nominate</button>
        </div>
    </div>
  </div>

      <!-- <div class="sb-pageSection-title six">
        <button  class="sb-btn sb-btn-normal sb-btn-primary {{nominateButton}} ? === 'show' ? 'active' : 'disabled'" (click)="ChangeUploadStatus(data.identifier)" routerLink="contribute/myenrollprograms">Nominate</button>
      </div> -->
      <!-- <div class="ui grid">
        <div class="two column row">
          <div class=" ten wide column"></div>
          <div class="two wide column column " *ngIf="nominateButton === 'show'">
            <a href="http://localhost:3000/contribute/myenrollprograms"  class="sb-btn sb-btn-normal sb-btn-primary {{nominateButton === 'show' ? 'active' : 'disabled'}}" >Nominate</a>
          </div>
          <div class="two wide column column " *ngIf="nominateButton === 'hide'">
            <button   class="sb-btn sb-btn-normal sb-btn-primary disabled" >Nominate</button>
          </div>
       </div>
      </div>  -->

    <table class="sb-table sb-table-striped sb-table-hover sb-table-sortable sb-table-fixed">
      <thead class="sb-table-header sb-table-thead-gray">
        <tr>
          <th class="sb-sort-icon">Textbook</th>
          <th class="sb-sort-icon">Grade</th>
          <th class="sb-sort-icon">Medium</th>
          <th class="sb-sort-icon">Chapters</th>
          <th class="sb-sort-icon">Subject</th>
          <th class="text-center">Select</th>
        </tr>
      </thead>
      <tbody class="sb-table-body">
        <tr *ngFor="let data of collectionList" >
          <td> 
            <div class="sb__ellipsis sb__ellipsis--three sb-color-primary font-weight-bold">
              {{data.name}}
            </div>
          </td>
          <td>
            <div  suiPopup popupHeader="Grades" popupText="{{data.gradeLevel}}">{{data.gradeLevel}}</div>
          </td>
          <td>
            <div class="sb__ellipsis">{{data.medium}}</div>
          </td>
          <td>
            -
          </td>
          <td>
            <div class="sb__ellipsis">{{data.subject}}</div>
          </td>
          <td class="text-center">
              <input type="checkbox" name="{{data.identifier}}" (click)="nominationChecked(data.identifier)" >
          </td>
        </tr>
      </tbody>
    </table> 

    <!-- <div *ngFor="let key of objectKey(collectionList)"> -->

      <!-- <sb-library-cards-grid  [title]="key" appTelemetryInteract
      [telemetryInteractEdata]="programTelemetryService.getTelemetryInteractEdata('collection-card', 'click', 'collection')"
      [telemetryInteractCdata]="telemetryInteractCdata"
      [telemetryInteractPdata]="telemetryInteractPdata"
      [contentList]="collectionList[key]" [maxCardCount]="4" [type]="'infinite_card_grid'" (viewMoreClick)="viewMoreClickHandler($event)" (cardClick)="collectionClickHandler($event)"></sb-library-cards-grid> -->
        <!-- <app-card appContentDirection appTelemetryInteract [telemetryInteractEdata]="telemetryInteract" [data]="content" appTelemetryInteract [telemetryInteractEdata]="telemetryInteract" (clickEvent)="showTopics($event)"></app-card> -->
    <!-- </div> -->
  <div  *ngIf="!objectKey(collectionList).length">
    <app-no-result [data]="{ messageText: 'resourceService.messages.stmsg.m0006'}"></app-no-result>
  </div>
    </div>

<div *ngIf="currentStage !== 'collectionComponent'" style="margin-bottom: -60px;">
  <app-chapter-list [chapterListComponentInput]="chapterListComponentInput" (selectedQuestionTypeTopic)="selectedQuestionTypeTopic"></app-chapter-list>
</div>
<div class="twelve wide column" *ngIf="!showLoader && showError">
  <app-no-result [data]="{ messageText: 'resourceService.messages.fmsg.m0004'}"></app-no-result>
</div>
<div *ngIf='showLoader && !showError' class="ui container sb-chapter-list && currentStage === 'collectionComponent'">
  <app-loader></app-loader>
</div>

<sui-modal *ngIf="showContentTypeModal" [mustScroll]="true" [isClosable]="true" [transitionDuration]="0"
  [size]="'normal'" class="sb-modal" appBodyScroll (dismissed)="showContentTypeModal = false" #modal>
  <div class="sb-modal-header">
      Select ContentTypes
  </div>
  <div class="sb-modal-content">
    <div class="mb-10" *ngFor="let contenttype of contentType">
      <div class="sb-checkbox sb-checkbox-primary">
        <input class="checking" [(ngModel)]="contenttype.isSelected" (change)="toggle(contenttype);" (click)="$event.stopPropagation()" type="checkbox">
        <label for="check1" class="mb-0"> {{contenttype}}</label>
      </div>
      <!-- <sui-checkbox name="{{contenttype.name}}" (click)="toggle($event, contenttype, contenttype.value);">{{contenttype.name}}</sui-checkbox> -->
    </div>
  </div>
  <div class="sb-modal-actions">
    <button type="button" class="sb-btn sb-btn-normal sb-btn-primary" (click)="addNomination()"> Add </button>
    <button type="button" class="sb-btn sb-btn-normal sb-btn-outline-primary" (click)="showContentTypeModal = false"> No </button>
  </div>
</sui-modal>
